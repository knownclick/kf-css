@use "sass:map";

/* --- Class Generator Mixin --- */
/* --- Class Generator Mixin --- */
@mixin generate-classes($config, $prefix: "") {
  // Generates: .text-2xs to .text-4xl
  @if map.get($config, "generate-type-classes") {
    @each $name, $step in map.get($config, "type-steps") {
      .#{$prefix}text-#{$name} {
        font-size: var(--text-#{$name});
      }
    }
  }

  // Generates: .font-100 to .font-900
  @if map.get($config, "generate-weight-classes") {
    @for $i from 1 through 9 {
      .#{$prefix}font-#{$i}00 {
        font-weight: $i * 100;
      }
    }
  }

  // Generates: .line-height-xs, .line-height-s, .line-height-m...
  @each $name, $value in map.get($config, "line-heights") {
    .#{$prefix}line-height-#{$name} {
      line-height: $value;
    }
  }

  // Generates: .tracking-tight, .tracking-wide...
  @if map.get($config, "generate-tracking") {
    @each $name, $value in map.get($config, "letter-spacing") {
      .#{$prefix}tracking-#{$name} {
        letter-spacing: $value;
      }
    }
  }

  // Generates: .text-left, .text-center, .text-right, .text-justify
  @if map.get($config, "generate-alignment") {
    .#{$prefix}text-left {
      text-align: left;
    }
    .#{$prefix}text-center {
      text-align: center;
    }
    .#{$prefix}text-right {
      text-align: right;
    }
    .#{$prefix}text-justify {
      text-align: justify;
    }
  }

  // Generates: .uppercase, .lowercase, .underline, .italic...
  @if map.get($config, "generate-transform") {
    // Transforms
    .#{$prefix}uppercase {
      text-transform: uppercase;
    }
    .#{$prefix}lowercase {
      text-transform: lowercase;
    }
    .#{$prefix}capitalize {
      text-transform: capitalize;
    }
    .#{$prefix}normal-case {
      text-transform: none;
    }

    // Decorations
    .#{$prefix}underline {
      text-decoration: underline;
    }
    .#{$prefix}line-through {
      text-decoration: line-through;
    }
    .#{$prefix}no-underline {
      text-decoration: none;
    }

    // Style
    .#{$prefix}italic {
      font-style: italic;
    }
    .#{$prefix}not-italic {
      font-style: normal;
    }
  }

  // Generates: .truncate, .whitespace-*, .break-*
  @if map.get($config, "generate-truncate") {
    // Standard one-line truncation
    .#{$prefix}truncate {
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    // Whitespace control
    .#{$prefix}whitespace-nowrap {
      white-space: nowrap;
    }
    .#{$prefix}whitespace-normal {
      white-space: normal;
    }
    .#{$prefix}whitespace-pre {
      white-space: pre;
    }

    // Word breaking
    .#{$prefix}break-normal {
      overflow-wrap: normal;
      word-break: normal;
    }
    .#{$prefix}break-words {
      overflow-wrap: break-word;
    }
    .#{$prefix}break-all {
      word-break: break-all;
    }
  }
}
