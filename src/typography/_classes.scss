@use "sass:map";

/* --- Class Generator Mixin --- */
@mixin generate-classes($config) {
  /* Size Utilities (.text-xl) */
  @if map.get($config, "generate-type-classes") {
    @each $name, $step in map.get($config, "type-steps") {
      .text-#{$name} {
        font-size: var(--text-#{$name});
      }
    }
  }

  /* Weight Utilities (.font-700) */
  @if map.get($config, "generate-weight-classes") {
    @for $i from 1 through 9 {
      .font-#{$i}00 {
        font-weight: $i * 100;
      }
    }
  }

  /* Line Height Utilities (.line-height-m) */
  @each $name, $value in map.get($config, "line-heights") {
    .line-height-#{$name} {
      line-height: $value;
    }
  }

  /* Letter Spacing (Tracking) */
  @if map.get($config, "generate-tracking") {
    @each $name, $value in map.get($config, "letter-spacing") {
      .tracking-#{$name} {
        letter-spacing: $value;
      }
    }
  }

  /* Text Alignment */
  @if map.get($config, "generate-alignment") {
    .text-left {
      text-align: left;
    }
    .text-center {
      text-align: center;
    }
    .text-right {
      text-align: right;
    }
    .text-justify {
      text-align: justify;
    }
  }

  /* Text Decoration & Transform */
  @if map.get($config, "generate-transform") {
    // Transforms
    .uppercase {
      text-transform: uppercase;
    }
    .lowercase {
      text-transform: lowercase;
    }
    .capitalize {
      text-transform: capitalize;
    }
    .normal-case {
      text-transform: none;
    }

    // Decorations
    .underline {
      text-decoration: underline;
    }
    .line-through {
      text-decoration: line-through;
    }
    .no-underline {
      text-decoration: none;
    }

    // Style
    .italic {
      font-style: italic;
    }
    .not-italic {
      font-style: normal;
    }
  }

  /* Truncation & Whitespace */
  @if map.get($config, "generate-truncate") {
    // Standard one-line truncation
    .truncate {
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    // Whitespace control
    .whitespace-nowrap {
      white-space: nowrap;
    }
    .whitespace-normal {
      white-space: normal;
    }
    .whitespace-pre {
      white-space: pre;
    }

    // Word breaking
    .break-normal {
      overflow-wrap: normal;
      word-break: normal;
    }
    .break-words {
      overflow-wrap: break-word;
    }
    .break-all {
      word-break: break-all;
    }
  }
}
