@use "sass:map";

/* --- Class Generator Mixin --- */
/* --- Class Generator Mixin --- */
@mixin generate-classes($config, $prefix: "") {
  /* Size Utilities (.text-xl) */
  @if map.get($config, "generate-type-classes") {
    @each $name, $step in map.get($config, "type-steps") {
      .#{$prefix}text-#{$name} {
        font-size: var(--text-#{$name});
      }
    }
  }

  /* Weight Utilities (.font-700) */
  @if map.get($config, "generate-weight-classes") {
    @for $i from 1 through 9 {
      .#{$prefix}font-#{$i}00 {
        font-weight: $i * 100;
      }
    }
  }

  /* Line Height Utilities (.line-height-m) */
  @each $name, $value in map.get($config, "line-heights") {
    .#{$prefix}line-height-#{$name} {
      line-height: $value;
    }
  }

  /* Letter Spacing (Tracking) */
  @if map.get($config, "generate-tracking") {
    @each $name, $value in map.get($config, "letter-spacing") {
      .#{$prefix}tracking-#{$name} {
        letter-spacing: $value;
      }
    }
  }

  /* Text Alignment */
  @if map.get($config, "generate-alignment") {
    .#{$prefix}text-left {
      text-align: left;
    }
    .#{$prefix}text-center {
      text-align: center;
    }
    .#{$prefix}text-right {
      text-align: right;
    }
    .#{$prefix}text-justify {
      text-align: justify;
    }
  }

  /* Text Decoration & Transform */
  @if map.get($config, "generate-transform") {
    // Transforms
    .#{$prefix}uppercase {
      text-transform: uppercase;
    }
    .#{$prefix}lowercase {
      text-transform: lowercase;
    }
    .#{$prefix}capitalize {
      text-transform: capitalize;
    }
    .#{$prefix}normal-case {
      text-transform: none;
    }

    // Decorations
    .#{$prefix}underline {
      text-decoration: underline;
    }
    .#{$prefix}line-through {
      text-decoration: line-through;
    }
    .#{$prefix}no-underline {
      text-decoration: none;
    }

    // Style
    .#{$prefix}italic {
      font-style: italic;
    }
    .#{$prefix}not-italic {
      font-style: normal;
    }
  }

  /* Truncation & Whitespace */
  @if map.get($config, "generate-truncate") {
    // Standard one-line truncation
    .#{$prefix}truncate {
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    // Whitespace control
    .#{$prefix}whitespace-nowrap {
      white-space: nowrap;
    }
    .#{$prefix}whitespace-normal {
      white-space: normal;
    }
    .#{$prefix}whitespace-pre {
      white-space: pre;
    }

    // Word breaking
    .#{$prefix}break-normal {
      overflow-wrap: normal;
      word-break: normal;
    }
    .#{$prefix}break-words {
      overflow-wrap: break-word;
    }
    .#{$prefix}break-all {
      word-break: break-all;
    }
  }
}
